{"version":3,"sources":["components/Notification.js","services/blogs.js","services/login.js","App.js","index.js"],"names":["Notification","message","className","getAll","axios","get","then","response","data","login","credentials","a","post","App","useState","blogs","setBlogs","errorMessage","setErrorMessage","username","setUsername","password","setPassword","user","setUser","useEffect","blogService","loggedUserJSON","window","localStorage","getItem","JSON","parse","setToken","token","handleLogin","event","preventDefault","loginService","setItem","stringify","setTimeout","onSubmit","type","value","name","onChange","target","map","blog","key","id","ReactDOM","render","document","getElementById"],"mappings":"+QAceA,EAZM,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACtB,OAAgB,OAAZA,EACK,KAIP,yBAAKC,UAAU,SACZD,I,gBCDQ,GAAEE,OALF,WAEb,OADgBC,IAAMC,IAHR,cAICC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UCG5B,GAAEC,MALN,uCAAG,WAAMC,GAAN,eAAAC,EAAA,sEACWP,IAAMQ,KAHf,aAG6BF,GAD/B,cACNH,EADM,yBAELA,EAASC,MAFJ,2CAAH,uDC4FIK,EAzFH,WAAO,IAAD,EACUC,mBAAS,IADnB,mBACTC,EADS,KACFC,EADE,OAEwBF,mBAAS,MAFjC,mBAETG,EAFS,KAEKC,EAFL,OAGgBJ,mBAAS,IAHzB,mBAGTK,EAHS,KAGCC,EAHD,OAIgBN,mBAAS,IAJzB,mBAITO,EAJS,KAICC,EAJD,OAKQR,mBAAS,MALjB,mBAKTS,EALS,KAKHC,EALG,KAOhBC,qBAAU,WACRC,EAAYvB,SAASG,MAAK,SAAAS,GAAK,OAC7BC,EAAUD,QAEX,IAEHU,qBAAU,WACR,IAAME,EAAiBC,OAAOC,aAAaC,QAAQ,qBACnD,GAAIH,EAAgB,CAClB,IAAMJ,EAAOQ,KAAKC,MAAML,GACxBH,EAAQD,GACRG,EAAYO,SAASV,EAAKW,UAE3B,IAEH,IAAMC,EAAW,uCAAG,WAAOC,GAAP,eAAAzB,EAAA,6DAClByB,EAAMC,iBADY,kBAGGC,EAAa7B,MAAM,CACpCU,WAAUE,aAJI,OAGVE,EAHU,OAOhBK,OAAOC,aAAaU,QAClB,oBAAqBR,KAAKS,UAAUjB,IAGtCG,EAAYO,SAASV,EAAKW,OAC1BV,EAAQD,GACRH,EAAY,IACZE,EAAY,IAdI,kDAgBhBJ,EAAgB,qBAChBuB,YAAW,WACTvB,EAAgB,QACf,KAnBa,0DAAH,sDA+CjB,OACE,6BACE,qCACA,kBAAC,EAAD,CAAcjB,QAASgB,IAEb,OAATM,EA5BH,0BAAMmB,SAAUP,GACd,wCAEI,2BACAQ,KAAK,OACLC,MAAOzB,EACP0B,KAAK,WACLC,SAAU,gBAAGC,EAAH,EAAGA,OAAH,OAAgB3B,EAAY2B,EAAOH,WAGjD,wCAEI,2BACAD,KAAK,WACLC,MAAOvB,EACPwB,KAAK,WACLC,SAAU,gBAAGC,EAAH,EAAGA,OAAH,OAAgBzB,EAAYyB,EAAOH,WAGjD,4BAAQD,KAAK,UAAb,UAWE,6BACE,2BAAIpB,EAAKsB,KAAT,eAGJ,4BACG9B,EAAMiC,KAAI,SAAAC,GAAI,OACb,kBAAC,IAAD,CAAMC,IAAKD,EAAKE,GAAIF,KAAMA,UCpFpCG,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.4d8e23dd.chunk.js","sourcesContent":["import React from 'react'\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"error\">\n      {message}\n    </div>\n  )\n}\n\nexport default Notification","import axios from 'axios'\nconst baseUrl = '/api/blogs'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nexport default { getAll }","import axios from 'axios'\nconst baseUrl = '/api/login'\n\nconst login = async credentials => {\n  const response = await axios.post(baseUrl, credentials)\n  return response.data\n}\n\nexport default { login }","import React, { useState, useEffect } from 'react'\nimport Blog from './components/Blog'\nimport Notification from './components/Notification'\nimport blogService from './services/blogs'\nimport loginService from './services/login'\n\nconst App = () => {\n  const [blogs, setBlogs] = useState([])\n  const [errorMessage, setErrorMessage] = useState(null)\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [user, setUser] = useState(null)\n\n  useEffect(() => {\n    blogService.getAll().then(blogs =>\n      setBlogs( blogs )\n    )  \n  }, [])\n\n  useEffect(() => {\n    const loggedUserJSON = window.localStorage.getItem('loggedBlogappUser')\n    if (loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON)\n      setUser(user)\n      blogService.setToken(user.token)\n    }\n  }, [])\n\n  const handleLogin = async (event) => {\n    event.preventDefault()\n    try {\n      const user = await loginService.login({\n        username, password,\n      })\n\n      window.localStorage.setItem(\n        'loggedBlogappUser', JSON.stringify(user)\n      ) \n\n      blogService.setToken(user.token)\n      setUser(user)\n      setUsername('')\n      setPassword('')\n    } catch (exception) {\n      setErrorMessage('Wrong credentials')\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n    }\n  }\n\n  const loginForm = () => (\n    <form onSubmit={handleLogin}>\n      <div>\n        username\n          <input\n          type=\"text\"\n          value={username}\n          name=\"Username\"\n          onChange={({ target }) => setUsername(target.value)}\n        />\n      </div>\n      <div>\n        password\n          <input\n          type=\"password\"\n          value={password}\n          name=\"Password\"\n          onChange={({ target }) => setPassword(target.value)}\n        />\n      </div>\n      <button type=\"submit\">login</button>\n    </form>      \n  )\n\n  return (\n    <div>\n      <h2>Blogs</h2>\n      <Notification message={errorMessage} />\n\n      {user === null ?\n        loginForm() :\n        <div>\n          <p>{user.name} logged in</p>\n        </div>\n      }\n      <ul>\n        {blogs.map(blog =>\n          <Blog key={blog.id} blog={blog} />\n        )}\n      </ul>\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}